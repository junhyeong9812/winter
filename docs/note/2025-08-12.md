π“ Winter Framework 27λ‹¨κ³„: HandlerInterceptor μ²΄μΈ κµ¬μ΅°
===========================================================

π“‚ ν”„λ΅μ νΈ κµ¬μ΅°
β”β”€β”€ src/winter/
β”‚   β”β”€β”€ π”— interceptor/                    (27λ‹¨κ³„ μƒλ΅ μ¶”κ°€)
β”‚   β”‚   β”β”€β”€ HandlerInterceptor.java        [μΈν„°νμ΄μ¤] μΈν„°μ…‰ν„° κΈ°λ³Έ κµ¬μ΅°
β”‚   β”‚   β”β”€β”€ InterceptorChain.java          [ν•µμ‹¬] μΈν„°μ…‰ν„° μ²΄μΈ κ΄€λ¦¬
β”‚   β”‚   β”β”€β”€ LoggingInterceptor.java        [κµ¬ν„] μ”μ²­/μ‘λ‹µ λ΅κΉ…
β”‚   β”‚   β”β”€β”€ PerformanceInterceptor.java    [κµ¬ν„] μ„±λ¥ μΈ΅μ • λ° λ¨λ‹ν„°λ§
β”‚   β”‚   β”β”€β”€ AuthenticationInterceptor.java [κµ¬ν„] μ„Έμ… κΈ°λ° μΈμ¦
β”‚   β”‚   β”β”€β”€ CorsInterceptor.java           [κµ¬ν„] CORS ν—¤λ” λ° Preflight μ²λ¦¬
β”‚   β”‚   β””β”€β”€ SecurityInterceptor.java       [κµ¬ν„] λ³΄μ• ν—¤λ” λ° κ³µκ²© μ°¨λ‹¨
β”‚   β”‚
β”‚   β”β”€β”€ π“‹ controller/
β”‚   β”‚   β””β”€β”€ InterceptorTestController.java [ν…μ¤νΈ] μΈν„°μ…‰ν„° ν…μ¤νΈμ© μ»¨νΈλ΅¤λ¬
β”‚   β”‚
β”‚   β”β”€β”€ π― dispatcher/
β”‚   β”‚   β””β”€β”€ Dispatcher.java                [μμ •] μΈν„°μ…‰ν„° μ²΄μΈ ν†µν•©
β”‚   β”‚
β”‚   β”β”€β”€ π¨ templates/                      (27λ‹¨κ³„ ν…ν”λ¦Ώ μ¶”κ°€)
β”‚   β”‚   β”β”€β”€ interceptor-basic.html         [ν…ν”λ¦Ώ] κΈ°λ³Έ μΈν„°μ…‰ν„° ν…μ¤νΈ
β”‚   β”‚   β”β”€β”€ slow-test.html                 [ν…ν”λ¦Ώ] μ„±λ¥ ν…μ¤νΈ κ²°κ³Ό
β”‚   β”‚   β”β”€β”€ secure-test.html               [ν…ν”λ¦Ώ] λ³΄μ• νμ΄μ§€
β”‚   β”‚   β”β”€β”€ admin-dashboard.html           [ν…ν”λ¦Ώ] κ΄€λ¦¬μ λ€μ‹λ³΄λ“
β”‚   β”‚   β”β”€β”€ login.html                     [ν…ν”λ¦Ώ] λ΅κ·ΈμΈ νμ΄μ§€
β”‚   β”‚   β”β”€β”€ login-success.html             [ν…ν”λ¦Ώ] λ΅κ·ΈμΈ μ„±κ³µ
β”‚   β”‚   β””β”€β”€ logout.html                    [ν…ν”λ¦Ώ] λ΅κ·Έμ•„μ›ƒ
β”‚   β”‚
β”‚   β””β”€β”€ WinterMain.java                    [μμ •] 27λ‹¨κ³„ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

π”¥ μ£Όμ” κµ¬ν„ λ‚΄μ©
=================

1οΈβƒ£ HandlerInterceptor μΈν„°νμ΄μ¤
β€Ά preHandle(): ν•Έλ“¤λ¬ μ‹¤ν–‰ μ „ νΈμ¶
β€Ά postHandle(): ν•Έλ“¤λ¬ μ‹¤ν–‰ ν›„, λ·° λ λ”λ§ μ „ νΈμ¶
β€Ά afterCompletion(): λ¨λ“  μ²λ¦¬ μ™„λ£ ν›„ νΈμ¶ (μ •λ¦¬ μ‘μ—…)

2οΈβƒ£ InterceptorChain μ²΄μΈ κ΄€λ¦¬
β€Ά μΈν„°μ…‰ν„° λ“±λ΅ λ° μμ„ κ΄€λ¦¬
β€Ά preHandle μλ°©ν–¥ μ‹¤ν–‰ (Aβ†’Bβ†’C)
β€Ά postHandle/afterCompletion μ—­λ°©ν–¥ μ‹¤ν–‰ (Cβ†’Bβ†’A)
β€Ά μμ™Έ μ•μ „μ„± λ³΄μ¥ (afterCompletion λ°λ“μ‹ μ‹¤ν–‰)

3οΈβƒ£ κΈ°λ³Έ μΈν„°μ…‰ν„° κµ¬ν„
β€Ά LoggingInterceptor: μƒμ„Έ μ”μ²­/μ‘λ‹µ λ΅κΉ…, μ²λ¦¬ μ‹κ°„ μΈ΅μ •
β€Ά PerformanceInterceptor: μ„±λ¥ λ¨λ‹ν„°λ§, λλ¦° μ”μ²­ κ°μ§€
β€Ά AuthenticationInterceptor: μ„Έμ… κΈ°λ° μΈμ¦, κ¶ν• ν™•μΈ
β€Ά CorsInterceptor: Cross-Origin μ”μ²­ μ²λ¦¬, Preflight μ§€μ›
β€Ά SecurityInterceptor: λ³΄μ• ν—¤λ” μ„¤μ •, κ³µκ²© ν¨ν„΄ μ°¨λ‹¨

4οΈβƒ£ Dispatcher ν†µν•©
β€Ά μΈν„°μ…‰ν„° μ²΄μΈμ„ μ”μ²­ μ²λ¦¬ νλ¦„μ— ν†µν•©
β€Ά μμ™Έ λ°μƒ μ‹μ—λ„ afterCompletion λ³΄μ¥
β€Ά κΈ°μ΅΄ 26λ‹¨κ³„ κΈ°λ¥κ³Ό μ™„λ²½ νΈν™

π€ μ‹¤ν–‰ λ°©λ²•
============

1οΈβƒ£ μ»΄νμΌ λ° μ‹¤ν–‰
   ```bash
   # ν”„λ΅μ νΈ λ£¨νΈμ—μ„
   javac -d out src/winter/**/*.java
   java -cp out winter.WinterMain
   ```

2οΈβƒ£ μ‹¤ν–‰ μ‹ ν™•μΈ μ‚¬ν•­
β… μΈν„°μ…‰ν„° μ²΄μΈ λ“±λ΅ λ΅κ·Έ
β… 9κ°€μ§€ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤ μ‹¤ν–‰
β… κ° μΈν„°μ…‰ν„°μ preHandle β†’ postHandle β†’ afterCompletion μμ„
β… μμ™Έ λ°μƒ μ‹μ—λ„ μ •λ¦¬ μ‘μ—… μ‹¤ν–‰
β… μ„±λ¥ μΈ΅μ • λ° λ³΄μ• κ²€μ‚¬ λ™μ‘

π“ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤
==================

π”¥ ν…μ¤νΈ 1: κΈ°λ³Έ μΈν„°μ…‰ν„° μ²΄μΈ
β€Ά URL: GET /interceptor/basic
β€Ά λ¨λ“  μΈν„°μ…‰ν„°κ°€ μ •μƒ μμ„λ΅ μ‹¤ν–‰λλ”μ§€ ν™•μΈ

π”¥ ν…μ¤νΈ 2: μ„±λ¥ μΈ΅μ • μΈν„°μ…‰ν„°
β€Ά URL: GET /interceptor/slow
β€Ά 2μ΄ μ§€μ—° ν›„ μ„±λ¥ κ²½κ³  λ©”μ‹μ§€ μ¶λ ¥ ν™•μΈ

π”¥ ν…μ¤νΈ 3: μΈμ¦ μΈν„°μ…‰ν„° (λ―ΈμΈμ¦)
β€Ά URL: GET /secure/test (μ„Έμ… μ—†μ)
β€Ά 302 λ¦¬λ‹¤μ΄λ ‰νΈλ΅ λ΅κ·ΈμΈ νμ΄μ§€ μ΄λ™ ν™•μΈ

π”¥ ν…μ¤νΈ 4: λ΅κ·ΈμΈ ν›„ μΈμ¦λ μ”μ²­
β€Ά URL: POST /login β†’ GET /secure/test
β€Ά μ„Έμ… κΈ°λ° μΈμ¦ μ„±κ³µ ν™•μΈ

π”¥ ν…μ¤νΈ 5: κ΄€λ¦¬μ κ¶ν• ν…μ¤νΈ
β€Ά URL: POST /login (admin) β†’ GET /admin/dashboard
β€Ά μ—­ν•  κΈ°λ° μ ‘κ·Ό μ μ–΄ ν™•μΈ

π”¥ ν…μ¤νΈ 6: CORS μΈν„°μ…‰ν„°
β€Ά URL: OPTIONS β†’ GET /api/cors-test (Origin ν—¤λ” ν¬ν•¨)
β€Ά Preflight μ”μ²­ μ²λ¦¬ λ° CORS ν—¤λ” μ„¤μ • ν™•μΈ

π”¥ ν…μ¤νΈ 7: μμ™Έ μ²λ¦¬
β€Ά URL: GET /interceptor/error
β€Ά μμ™Έ λ°μƒ μ‹μ—λ„ afterCompletion μ‹¤ν–‰ ν™•μΈ

π”¥ ν…μ¤νΈ 8: JSON API μΈν„°μ…‰ν„°
β€Ά URL: GET /api/interceptor-test
β€Ά JSON μ‘λ‹µκ³Ό μΈν„°μ…‰ν„° μ΅°ν•© ν™•μΈ

π”¥ ν…μ¤νΈ 9: λ³΄μ• μΈν„°μ…‰ν„°
β€Ά SQL Injection, XSS ν¨ν„΄ μ°¨λ‹¨ ν™•μΈ
β€Ά λ³΄μ• ν—¤λ” μλ™ μ¶”κ°€ ν™•μΈ

π― κΈ°λ€ κ²°κ³Ό
============

π“‹ μ½μ†” μ¶λ ¥ μμ‹:
```
=== preHandle μ²΄μΈ μ‹¤ν–‰ μ‹μ‘ ===
preHandle μ‹¤ν–‰: CorsInterceptor [0]
preHandle μ„±κ³µ: CorsInterceptor
preHandle μ‹¤ν–‰: LoggingInterceptor [1]
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
β”‚ [μ”μ²­ μ‹μ‘] 2025-08-12 15:30:45.123
β”‚ Request ID: A1B2C3D4
β”‚ Method: GET
β”‚ Path: /interceptor/basic
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
preHandle μ„±κ³µ: LoggingInterceptor
preHandle μ‹¤ν–‰: PerformanceInterceptor [2]
π€ [PERF] μ”μ²­ μ‹μ‘ - GET /interceptor/basic
preHandle μ„±κ³µ: PerformanceInterceptor
preHandle μ‹¤ν–‰: AuthenticationInterceptor [3]
π” [AUTH] μΈμ¦ ν™•μΈ: GET /interceptor/basic
   β… λΉ„λ³΄νΈ λ¦¬μ†μ¤ - μΈμ¦ μƒλµ
preHandle μ„±κ³µ: AuthenticationInterceptor
=== preHandle μ²΄μΈ μ‹¤ν–‰ μ™„λ£ (μ„±κ³µ) ===

π― [CONTROLLER] κΈ°λ³Έ μΈν„°μ…‰ν„° ν…μ¤νΈ μ‹¤ν–‰

=== postHandle μ²΄μΈ μ‹¤ν–‰ μ‹μ‘ ===
postHandle μ‹¤ν–‰: AuthenticationInterceptor [3]
postHandle μ™„λ£: AuthenticationInterceptor
postHandle μ‹¤ν–‰: PerformanceInterceptor [2]
β΅ [PERF] ν•Έλ“¤λ¬ μ™„λ£ - GET /interceptor/basic
   ν•Έλ“¤λ¬ μ²λ¦¬ μ‹κ°„: 15ms
postHandle μ™„λ£: PerformanceInterceptor
postHandle μ‹¤ν–‰: LoggingInterceptor [1]
postHandle μ™„λ£: LoggingInterceptor
postHandle μ‹¤ν–‰: CorsInterceptor [0]
postHandle μ™„λ£: CorsInterceptor
=== postHandle μ²΄μΈ μ‹¤ν–‰ μ™„λ£ ===

=== afterCompletion μ²΄μΈ μ‹¤ν–‰ μ‹μ‘ ===
afterCompletion μ‹¤ν–‰: AuthenticationInterceptor [3]
afterCompletion μ™„λ£: AuthenticationInterceptor
afterCompletion μ‹¤ν–‰: PerformanceInterceptor [2]
π“ [PERF] μ²λ¦¬ μ™„λ£ - GET /interceptor/basic
   μ΄ μ²λ¦¬ μ‹κ°„: 45ms
afterCompletion μ™„λ£: PerformanceInterceptor
afterCompletion μ‹¤ν–‰: LoggingInterceptor [1]
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
β”‚ [μ”μ²­ μ™„λ£] 2025-08-12 15:30:45.168
β”‚ Request ID: A1B2C3D4
β”‚ μ΄ μ²λ¦¬ μ‹κ°„: 45ms
β”‚ β… μ •μƒ μ²λ¦¬ μ™„λ£
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
afterCompletion μ™„λ£: LoggingInterceptor
afterCompletion μ‹¤ν–‰: CorsInterceptor [0]
afterCompletion μ™„λ£: CorsInterceptor
=== afterCompletion μ²΄μΈ μ‹¤ν–‰ μ™„λ£ ===
```

π 27λ‹¨κ³„ ν•µμ‹¬ μ„±κ³Ό
===================

β… Spring MVC HandlerInterceptor ν¨ν„΄ μ™„λ²½ κµ¬ν„
β… ν΅λ‹¨ κ΄€μ‹¬μ‚¬μ™€ λΉ„μ¦λ‹μ¤ λ΅μ§μ μ™„μ „ν• λ¶„λ¦¬
β… 5κ°€μ§€ μ‹¤μ©μ μΈ μΈν„°μ…‰ν„° κµ¬ν„ (λ΅κΉ…, μ„±λ¥, μΈμ¦, CORS, λ³΄μ•)
β… μμ™Έ μ•μ „μ„±μ΄ λ³΄μ¥λλ” μ²΄μΈ κµ¬μ΅°
β… κΈ°μ΅΄ 26λ‹¨κ³„ κΈ°λ¥κ³Ό 100% νΈν™μ„± μ μ§€
β… ν™•μ¥ κ°€λ¥ν• μΈν„°μ…‰ν„° μ•„ν‚¤ν…μ²

π”® 28λ‹¨κ³„ μκ³ 
==============

λ‹¤μ λ‹¨κ³„μ—μ„λ” Bean Validation API ν†µν•©μ„ κµ¬ν„ν•©λ‹λ‹¤:
β€Ά @Valid, @NotNull, @Size λ“± μ–΄λ…Έν…μ΄μ… κΈ°λ° μ ν¨μ„± κ²€μ‚¬
β€Ά ValidationInterceptorλ¥Ό ν†µν• μλ™ κ²€μ¦
β€Ά μ»¤μ¤ν…€ Validator μ§€μ›
β€Ά κ²€μ¦ μ‹¤ν¨ μ‹ μλ™ μ—λ¬ μ‘λ‹µ μƒμ„±

π’΅ ν•™μµ ν¬μΈνΈ
==============

1οΈβƒ£ λ””μμΈ ν¨ν„΄ μ΄ν•΄
β€Ά Chain of Responsibility ν¨ν„΄
β€Ά Template Method ν¨ν„΄  
β€Ά Decorator ν¨ν„΄

2οΈβƒ£ μ•„ν‚¤ν…μ² μ„¤κ³„ μ›μΉ™
β€Ά λ‹¨μΌ μ±…μ„ μ›μΉ™ (SRP)
β€Ά κ°λ°©-νμ‡„ μ›μΉ™ (OCP)
β€Ά μμ΅΄μ„± μ—­μ „ μ›μΉ™ (DIP)

3οΈβƒ£ μ‹¤λ¬΄ μ μ© μ§€μ‹
β€Ά ν΅λ‹¨ κ΄€μ‹¬μ‚¬ λ¶„λ¦¬
β€Ά μμ™Έ μ•μ „ ν”„λ΅κ·Έλλ°
β€Ά μ„±λ¥ λ¨λ‹ν„°λ§ λ° λ³΄μ• κ°•ν™”